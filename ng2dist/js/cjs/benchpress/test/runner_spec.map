{"version":3,"sources":["runner_spec.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/172","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/15"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/benchpress/test/runner_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/benchpress/test/","sourcesContent":["import {describe, it, iit, xit, expect, beforeEach, afterEach} from 'angular2/test_lib';\nimport {\n  Runner, Sampler, SampleDescription,\n  Validator, bind, Injector, Metric,\n  Options, WebDriverAdapter\n} from 'benchpress/common';\nimport { isBlank } from 'angular2/src/facade/lang';\nimport { Promise, PromiseWrapper } from 'angular2/src/facade/async';\n\nexport function main() {\n  describe('runner', () => {\n    var injector;\n    var runner;\n\n    function createRunner(defaultBindings = null) {\n      if (isBlank(defaultBindings)) {\n        defaultBindings = [];\n      }\n      runner = new Runner([\n        defaultBindings,\n        bind(Sampler).toFactory(\n          (_injector) => {\n            injector = _injector;\n            return new MockSampler();\n          }, [Injector]\n        ),\n        bind(Metric).toFactory( () => new MockMetric(), []),\n        bind(Validator).toFactory( () => new MockValidator(), []),\n        bind(WebDriverAdapter).toFactory( () => new MockWebDriverAdapter(), [])\n      ]);\n      return runner;\n    }\n\n    it('should set SampleDescription.id', (done) => {\n      createRunner().sample({id: 'someId'})\n        .then( (_) => injector.asyncGet(SampleDescription) )\n        .then( (desc) => {\n          expect(desc.id).toBe('someId');\n          done();\n        });\n    });\n\n    it('should merge SampleDescription.description', (done) => {\n      createRunner([\n        bind(Options.DEFAULT_DESCRIPTION).toValue({'a': 1})\n      ]).sample({id: 'someId', bindings: [\n        bind(Options.SAMPLE_DESCRIPTION).toValue({'b': 2})\n      ]}).then( (_) => injector.asyncGet(SampleDescription) )\n         .then( (desc) => {\n\n        expect(desc.description).toEqual({\n          'forceGc': false,\n          'userAgent': 'someUserAgent',\n          'a': 1,\n          'b': 2,\n          'v': 11\n        });\n        done();\n      });\n    });\n\n    it('should fill SampleDescription.metrics from the Metric', (done) => {\n      createRunner().sample({id: 'someId'})\n        .then( (_) => injector.asyncGet(SampleDescription) )\n        .then( (desc) => {\n\n        expect(desc.metrics).toEqual({ 'm1': 'some metric' });\n        done();\n      });\n    });\n\n    it('should bind Options.EXECUTE', (done) => {\n      var execute = () => {};\n      createRunner().sample({id: 'someId', execute: execute}).then( (_) => {\n        expect(injector.get(Options.EXECUTE)).toEqual(execute);\n        done();\n      });\n    });\n\n    it('should bind Options.PREPARE', (done) => {\n      var prepare = () => {};\n      createRunner().sample({id: 'someId', prepare: prepare}).then( (_) => {\n        expect(injector.get(Options.PREPARE)).toEqual(prepare);\n        done();\n      });\n    });\n\n    it('should bind Options.MICRO_ITERATIONS', (done) => {\n      createRunner().sample({id: 'someId', microIterations: 23}).then( (_) => {\n        expect(injector.get(Options.MICRO_ITERATIONS)).toEqual(23);\n        done();\n      });\n    });\n\n    it('should overwrite bindings per sample call', (done) => {\n      createRunner([\n        bind(Options.DEFAULT_DESCRIPTION).toValue({'a': 1}),\n      ]).sample({id: 'someId', bindings: [\n        bind(Options.DEFAULT_DESCRIPTION).toValue({'a': 2}),\n      ]}).then( (_) => injector.asyncGet(SampleDescription) )\n         .then( (desc) => {\n\n        expect(injector.get(SampleDescription).description['a']).toBe(2);\n        done();\n      });\n\n    });\n\n  });\n}\n\nclass MockWebDriverAdapter extends WebDriverAdapter {\n  executeScript(script):Promise {\n    return PromiseWrapper.resolve('someUserAgent');\n  }\n}\n\nclass MockValidator extends Validator {\n  constructor() {\n    super();\n  }\n  describe() {\n    return { 'v': 11 };\n  }\n}\n\nclass MockMetric extends Metric {\n  constructor() {\n    super();\n  }\n  describe() {\n    return { 'm1': 'some metric' };\n  }\n}\n\nclass MockSampler extends Sampler {\n  constructor() {\n    super();\n  }\n  sample():Promise {\n    return PromiseWrapper.resolve(23);\n  }\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.superConstructor(\n          $__placeholder__0).apply(this, arguments)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","return assert.returnType(($__placeholder__0), $__placeholder__1)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)"]}