{"version":3,"sources":["selector_benchmark.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/benchmarks/src/compiler/selector_benchmark.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/benchmarks/src/compiler/","sourcesContent":["import {SelectorMatcher} from \"angular2/src/core/compiler/selector\";\nimport {CssSelector} from \"angular2/src/core/compiler/selector\";\nimport {StringWrapper, Math} from 'angular2/src/facade/lang';\nimport {ListWrapper} from 'angular2/src/facade/collection';\nimport {getIntParameter, bindAction} from 'angular2/src/test_lib/benchmark_util';\nimport {BrowserDomAdapter} from 'angular2/src/dom/browser_adapter';\n\nexport function main() {\n  BrowserDomAdapter.makeCurrent();\n  var count = getIntParameter('selectors');\n\n  var fixedMatcher;\n  var fixedSelectorStrings = [];\n  var fixedSelectors = [];\n  for (var i=0; i<count; i++) {\n    ListWrapper.push(fixedSelectorStrings, randomSelector());\n  }\n  for (var i=0; i<count; i++) {\n    ListWrapper.push(fixedSelectors, CssSelector.parse(fixedSelectorStrings[i]));\n  }\n  fixedMatcher = new SelectorMatcher();\n  for (var i=0; i<count; i++) {\n    fixedMatcher.addSelectable(fixedSelectors[i], i);\n  }\n\n  function parse() {\n    var result = [];\n    for (var i=0; i<count; i++) {\n      ListWrapper.push(result, CssSelector.parse(fixedSelectorStrings[i]));\n    }\n    return result;\n  }\n\n  function addSelectable() {\n    var matcher = new SelectorMatcher();\n    for (var i=0; i<count; i++) {\n      matcher.addSelectable(fixedSelectors[i], i);\n    }\n    return matcher;\n  }\n\n  function match() {\n    var matchCount = 0;\n    for (var i=0; i<count; i++) {\n      fixedMatcher.match(fixedSelectors[i], (selector, selected) => {\n        matchCount += selected;\n      });\n    }\n    return matchCount;\n  }\n\n  bindAction('#parse', parse);\n  bindAction('#addSelectable', addSelectable);\n  bindAction('#match', match);\n}\n\nfunction randomSelector() {\n  var res = randomStr(5);\n  for (var i=0; i<3; i++) {\n    res += '.'+randomStr(5);\n  }\n  for (var i=0; i<3; i++) {\n    res += '['+randomStr(3)+'='+randomStr(6)+']';\n  }\n  return res;\n}\n\nfunction randomStr(len){\n  var s = '';\n  while (s.length < len) {\n    s += randomChar();\n  }\n  return s;\n}\n\nfunction randomChar(){\n  var n = randomNum(62);\n  if(n<10) return n.toString(); //1-10\n  if(n<36) return StringWrapper.fromCharCode(n+55); //A-Z\n  return StringWrapper.fromCharCode(n+61); //a-z\n}\n\nfunction randomNum(max) {\n  return Math.floor(Math.random() * max);\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})"]}