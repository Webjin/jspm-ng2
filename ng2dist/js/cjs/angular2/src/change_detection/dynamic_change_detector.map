{"version":3,"sources":["dynamic_change_detector.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/368","@traceur/generated/TemplateParser/369","@traceur/generated/TemplateParser/370","@traceur/generated/TemplateParser/371","@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/change_detection/dynamic_change_detector.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/change_detection/","sourcesContent":["import {isPresent, isBlank, BaseException, FunctionWrapper} from 'angular2/src/facade/lang';\nimport {List, ListWrapper, MapWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\nimport {ContextWithVariableBindings} from './parser/context_with_variable_bindings';\n\nimport {AbstractChangeDetector} from './abstract_change_detector';\nimport {PipeRegistry} from './pipes/pipe_registry';\nimport {ChangeDetectionUtil, SimpleChange, uninitialized} from './change_detection_util';\n\n\nimport {\n  ProtoRecord,\n  RECORD_TYPE_SELF,\n  RECORD_TYPE_PROPERTY,\n  RECORD_TYPE_INVOKE_METHOD,\n  RECORD_TYPE_CONST,\n  RECORD_TYPE_INVOKE_CLOSURE,\n  RECORD_TYPE_PRIMITIVE_OP,\n  RECORD_TYPE_KEYED_ACCESS,\n  RECORD_TYPE_PIPE,\n  RECORD_TYPE_INTERPOLATE\n  } from './proto_record';\n\nimport {ExpressionChangedAfterItHasBeenChecked, ChangeDetectionError} from './exceptions';\n\nexport class DynamicChangeDetector extends AbstractChangeDetector {\n  dispatcher:any;\n  pipeRegistry;\n\n  values:List;\n  changes:List;\n  pipes:List;\n  prevContexts:List;\n\n  protos:List<ProtoRecord>;\n\n  constructor(dispatcher:any, pipeRegistry:PipeRegistry, protoRecords:List<ProtoRecord>) {\n    super();\n    this.dispatcher = dispatcher;\n    this.pipeRegistry = pipeRegistry;\n\n    this.values = ListWrapper.createFixedSize(protoRecords.length + 1);\n    this.pipes = ListWrapper.createFixedSize(protoRecords.length + 1);\n    this.prevContexts = ListWrapper.createFixedSize(protoRecords.length + 1);\n    this.changes = ListWrapper.createFixedSize(protoRecords.length + 1);\n\n    ListWrapper.fill(this.values, uninitialized);\n    ListWrapper.fill(this.pipes, null);\n    ListWrapper.fill(this.prevContexts, uninitialized);\n    ListWrapper.fill(this.changes, false);\n\n    this.protos = protoRecords;\n  }\n\n  hydrate(context:any) {\n    this.values[0] = context;\n  }\n\n  dehydrate() {\n    this._destroyPipes();\n    ListWrapper.fill(this.values, uninitialized);\n    ListWrapper.fill(this.changes, false);\n    ListWrapper.fill(this.pipes, null);\n    ListWrapper.fill(this.prevContexts, uninitialized);\n  }\n\n  _destroyPipes() {\n    for(var i = 0; i < this.pipes.length; ++i) {\n      if (isPresent(this.pipes[i])) {\n        this.pipes[i].onDestroy();\n      }\n    }\n  }\n\n  hydrated():boolean {\n    return this.values[0] !== uninitialized;\n  }\n\n  detectChangesInRecords(throwOnChange:boolean) {\n    var protos:List<ProtoRecord> = this.protos;\n\n    var updatedRecords = null;\n    for (var i = 0; i < protos.length; ++i) {\n      var proto:ProtoRecord = protos[i];\n      var change = this._check(proto);\n\n      if (isPresent(change)) {\n        var record = ChangeDetectionUtil.changeRecord(proto.bindingMemento, change);\n        updatedRecords = ChangeDetectionUtil.addRecord(updatedRecords, record);\n      }\n\n      if (proto.lastInDirective && isPresent(updatedRecords)) {\n        if (throwOnChange) ChangeDetectionUtil.throwOnChange(proto, updatedRecords[0]);\n\n        this.dispatcher.onRecordChange(proto.directiveMemento, updatedRecords);\n        updatedRecords = null;\n      }\n    }\n  }\n\n  _check(proto:ProtoRecord) {\n    try {\n      if (proto.mode == RECORD_TYPE_PIPE) {\n        return this._pipeCheck(proto);\n      } else {\n        return this._referenceCheck(proto);\n      }\n    } catch (e) {\n      throw new ChangeDetectionError(proto, e);\n    }\n  }\n\n  _referenceCheck(proto:ProtoRecord) {\n    if (this._pureFuncAndArgsDidNotChange(proto)) {\n      this._setChanged(proto, false);\n      return null;\n    }\n\n    var prevValue = this._readSelf(proto);\n    var currValue = this._calculateCurrValue(proto);\n\n    if (!isSame(prevValue, currValue)) {\n      this._writeSelf(proto, currValue);\n      this._setChanged(proto, true);\n\n      if (proto.lastInBinding) {\n        return ChangeDetectionUtil.simpleChange(prevValue, currValue);\n      } else {\n        return null;\n      }\n    } else {\n      this._setChanged(proto, false);\n      return null;\n    }\n  }\n\n  _calculateCurrValue(proto:ProtoRecord) {\n    switch (proto.mode) {\n      case RECORD_TYPE_SELF:\n        return this._readContext(proto);\n\n      case RECORD_TYPE_CONST:\n        return proto.funcOrValue;\n\n      case RECORD_TYPE_PROPERTY:\n        var context = this._readContext(proto);\n        var c = ChangeDetectionUtil.findContext(proto.name, context);\n        if (c instanceof ContextWithVariableBindings) {\n          return c.get(proto.name);\n        } else {\n          var propertyGetter:Function = proto.funcOrValue;\n          return propertyGetter(c);\n        }\n        break;\n\n      case RECORD_TYPE_INVOKE_METHOD:\n        var context = this._readContext(proto);\n        var args = this._readArgs(proto);\n        var c = ChangeDetectionUtil.findContext(proto.name, context);\n        if (c instanceof ContextWithVariableBindings) {\n          return FunctionWrapper.apply(c.get(proto.name), args);\n        } else {\n          var methodInvoker:Function = proto.funcOrValue;\n          return methodInvoker(c, args);\n        }\n        break;\n\n      case RECORD_TYPE_KEYED_ACCESS:\n        var arg = this._readArgs(proto)[0];\n        return this._readContext(proto)[arg];\n\n      case RECORD_TYPE_INVOKE_CLOSURE:\n        return FunctionWrapper.apply(this._readContext(proto), this._readArgs(proto));\n\n      case RECORD_TYPE_INTERPOLATE:\n      case RECORD_TYPE_PRIMITIVE_OP:\n        return FunctionWrapper.apply(proto.funcOrValue, this._readArgs(proto));\n\n      default:\n        throw new BaseException(`Unknown operation ${proto.mode}`);\n    }\n  }\n\n  _pipeCheck(proto:ProtoRecord) {\n    var context = this._readContext(proto);\n    var pipe = this._pipeFor(proto, context);\n\n    var newValue = pipe.transform(context);\n    if (! ChangeDetectionUtil.noChangeMarker(newValue)) {\n      var prevValue = this._readSelf(proto);\n      this._writeSelf(proto, newValue);\n      this._setChanged(proto, true);\n\n      if (proto.lastInBinding) {\n        return ChangeDetectionUtil.simpleChange(prevValue, newValue);\n      } else {\n        return null;\n      }\n    } else {\n      this._setChanged(proto, false);\n      return null;\n    }\n  }\n\n  _pipeFor(proto:ProtoRecord, context) {\n    var storedPipe = this._readPipe(proto);\n    if (isPresent(storedPipe) && storedPipe.supports(context)) {\n      return storedPipe;\n    }\n    if (isPresent(storedPipe)) {\n      storedPipe.onDestroy();\n    }\n    var pipe = this.pipeRegistry.get(proto.name, context);\n    this._writePipe(proto, pipe);\n    return pipe;\n  }\n\n  _readContext(proto:ProtoRecord) {\n    return this.values[proto.contextIndex];\n  }\n\n  _readSelf(proto:ProtoRecord) {\n    return this.values[proto.selfIndex];\n  }\n\n  _writeSelf(proto:ProtoRecord, value) {\n    this.values[proto.selfIndex] = value;\n  }\n\n  _readPipe(proto:ProtoRecord) {\n    return this.pipes[proto.selfIndex];\n  }\n\n  _writePipe(proto:ProtoRecord, value) {\n    this.pipes[proto.selfIndex] = value;\n  }\n\n  _setChanged(proto:ProtoRecord, value:boolean) {\n    this.changes[proto.selfIndex] = value;\n  }\n\n  _pureFuncAndArgsDidNotChange(proto:ProtoRecord):boolean {\n    return proto.isPureFunction() && !this._argsChanged(proto);\n  }\n\n  _argsChanged(proto:ProtoRecord):boolean {\n    var args = proto.args;\n    for(var i = 0; i < args.length; ++i) {\n      if (this.changes[args[i]]) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  _readArgs(proto:ProtoRecord) {\n    var res = ListWrapper.createFixedSize(proto.args.length);\n    var args = proto.args;\n    for (var i = 0; i < args.length; ++i) {\n      res[i] = this.values[args[i]];\n    }\n    return res;\n  }\n}\n\nvar _singleElementList = [null];\n\nfunction isSame(a, b) {\n  if (a === b) return true;\n  if (a instanceof String && b instanceof String && a == b) return true;\n  if ((a !== a) && (b !== b)) return true;\n  return false;\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","assert.genericType($__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.type($__placeholder__0, $__placeholder__1)","assert.type.any","assert.type.any","assert.type.any","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}