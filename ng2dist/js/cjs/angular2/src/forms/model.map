{"version":3,"sources":["model.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/1003","@traceur/generated/TemplateParser/1004","@traceur/generated/TemplateParser/9"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/forms/model.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/forms/","sourcesContent":["import {isPresent} from 'angular2/src/facade/lang';\nimport {StringMap, StringMapWrapper} from 'angular2/src/facade/collection';\nimport {nullValidator, controlGroupValidator} from './validators';\n\nexport const VALID = \"VALID\";\nexport const INVALID = \"INVALID\";\n\n//interface IControl {\n//  get value():any;\n//  validator:Function;\n//  get status():string;\n//  get valid():boolean;\n//  get errors():Map;\n//  updateValue(value:any){}\n//  setParent(parent){}\n//}\n\nexport class AbstractControl {\n  _value:any;\n  _status:string;\n  _errors;\n  _dirty:boolean;\n  _parent:ControlGroup;\n  validator:Function;\n\n  constructor(validator:Function = nullValidator) {\n    this.validator = validator;\n    this._dirty = true;\n  }\n\n  get value() {\n    this._updateIfNeeded();\n    return this._value;\n  }\n\n  get status() {\n    this._updateIfNeeded();\n    return this._status;\n  }\n\n  get valid() {\n    this._updateIfNeeded();\n    return this._status === VALID;\n  }\n\n  get errors() {\n    this._updateIfNeeded();\n    return this._errors;\n  }\n\n  setParent(parent){\n    this._parent = parent;\n  }\n\n  _updateIfNeeded() {\n  }\n\n  _updateParent() {\n    if (isPresent(this._parent)){\n      this._parent._controlChanged();\n    }\n  }\n}\n\nexport class Control extends AbstractControl {\n  constructor(value:any, validator:Function = nullValidator) {\n    super(validator);\n    this._value = value;\n  }\n\n  updateValue(value:any) {\n    this._value = value;\n    this._dirty = true;\n    this._updateParent();\n  }\n\n  _updateIfNeeded() {\n    if (this._dirty) {\n      this._dirty = false;\n      this._errors = this.validator(this);\n      this._status = isPresent(this._errors) ? INVALID : VALID;\n    }\n  }\n}\n\nexport class ControlGroup extends AbstractControl {\n  controls;\n  optionals;\n\n  constructor(controls, optionals = null, validator:Function = controlGroupValidator) {\n    super(validator);\n    this.controls = controls;\n    this.optionals = isPresent(optionals) ? optionals : {};\n    this._setParentForControls();\n  }\n\n  include(controlName:string) {\n    this._dirty = true;\n    StringMapWrapper.set(this.optionals, controlName, true);\n  }\n\n  exclude(controlName:string) {\n    this._dirty = true;\n    StringMapWrapper.set(this.optionals, controlName, false);\n  }\n\n  contains(controlName:string) {\n    var c = StringMapWrapper.contains(this.controls, controlName);\n    return c && this._included(controlName);\n  }\n\n  _setParentForControls() {\n    StringMapWrapper.forEach(this.controls, (control, name) => {\n      control.setParent(this);\n    });\n  }\n\n  _updateIfNeeded() {\n    if (this._dirty) {\n      this._dirty = false;\n      this._value = this._reduceValue();\n      this._errors = this.validator(this);\n      this._status = isPresent(this._errors) ? INVALID : VALID;\n    }\n  }\n\n  _reduceValue() {\n    var newValue = {};\n    StringMapWrapper.forEach(this.controls, (control, name) => {\n      if (this._included(name)) {\n        newValue[name] = control.value;\n      }\n    });\n    return newValue;\n  }\n\n  _controlChanged() {\n    this._dirty = true;\n    this._updateParent();\n  }\n\n  _included(controlName:string):boolean {\n    var isOptional = StringMapWrapper.contains(this.optionals, controlName);\n    return !isOptional || StringMapWrapper.get(this.optionals, controlName);\n  }\n}","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","assert.argumentTypes($__placeholder__0)","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","assert.type.$__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","assert.type.any","assert.type.any","return assert.returnType(($__placeholder__0), $__placeholder__1)"]}