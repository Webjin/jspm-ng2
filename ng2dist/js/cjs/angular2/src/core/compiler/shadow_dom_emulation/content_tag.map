{"version":3,"sources":["content_tag.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/3860","@traceur/generated/TemplateParser/9"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/core/compiler/shadow_dom_emulation/content_tag.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/core/compiler/shadow_dom_emulation/","sourcesContent":["import {Decorator} from '../../annotations/annotations';\nimport * as ldModule from './light_dom';\nimport {Inject} from 'angular2/di';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {isPresent} from 'angular2/src/facade/lang';\nimport {List, ListWrapper} from 'angular2/src/facade/collection';\nimport {NgElement} from 'angular2/src/core/dom/element';\n\nclass ContentStrategy {\n  nodes:List;\n  insert(nodes:List){}\n}\n\n/**\n * An implementation of the content tag that is used by transcluding components.\n * It is used when the content tag is not a direct child of another component,\n * and thus does not affect redistribution.\n */\nclass RenderedContent extends ContentStrategy {\n  static _lazyScriptTemplate;\n  beginScript;\n  endScript;\n\n  constructor(contentEl) {\n    super();\n    this._replaceContentElementWithScriptTags(contentEl);\n    this.nodes = [];\n  }\n\n  _scriptTemplate() {\n    if (!isPresent(RenderedContent._lazyScriptTemplate)) {\n      RenderedContent._lazyScriptTemplate = DOM.createScriptTag('type', 'ng/content');\n    }\n    return RenderedContent._lazyScriptTemplate;\n  }\n\n  // Inserts the nodes in between the start and end scripts.\n  // Previous content is removed.\n  insert(nodes:List) {\n    this.nodes = nodes;\n    DOM.insertAllBefore(this.endScript, nodes);\n    this._removeNodesUntil(ListWrapper.isEmpty(nodes) ? this.endScript : nodes[0]);\n  }\n\n  // Replaces the content tag with a pair of script tags\n  _replaceContentElementWithScriptTags(contentEl) {\n    this.beginScript = DOM.clone(this._scriptTemplate());\n    this.endScript = DOM.clone(this._scriptTemplate());\n\n    DOM.insertBefore(contentEl, this.beginScript);\n    DOM.insertBefore(contentEl, this.endScript);\n    DOM.removeChild(DOM.parentElement(contentEl), contentEl);\n  }\n\n  _removeNodesUntil(node) {\n    var p = DOM.parentElement(this.beginScript);\n    for (var next = DOM.nextSibling(this.beginScript);\n         next !== node;\n         next = DOM.nextSibling(this.beginScript)) {\n      DOM.removeChild(p, next);\n    }\n  }\n}\n\n/**\n * An implementation of the content tag that is used by transcluding components.\n * It is used when the content tag is a direct child of another component,\n * and thus does not get rendered but only affect the distribution of its parent component.\n */\nclass IntermediateContent extends ContentStrategy {\n  destinationLightDom:ldModule.LightDom;\n\n  constructor(destinationLightDom:ldModule.LightDom) {\n    super();\n    this.destinationLightDom = destinationLightDom;\n    this.nodes = [];\n  }\n\n  insert(nodes:List) {\n    this.nodes = nodes;\n    this.destinationLightDom.redistribute();\n  }\n}\n\n\n@Decorator({\n  selector: 'content'\n})\nexport class Content {\n  select:string;\n  _strategy:ContentStrategy;\n\n  constructor(@Inject(ldModule.DestinationLightDom) destinationLightDom, contentEl:NgElement) {\n    this.select = contentEl.getAttribute('select');\n    this._strategy = isPresent(destinationLightDom) ?\n      new IntermediateContent(destinationLightDom) :\n      new RenderedContent(contentEl.domElement);\n  }\n\n  nodes():List {\n    return this._strategy.nodes;\n  }\n\n  insert(nodes:List) {\n    this._strategy.insert(nodes);\n  }\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","assert.argumentTypes($__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","assert.type.any","return assert.returnType(($__placeholder__0), $__placeholder__1)"]}