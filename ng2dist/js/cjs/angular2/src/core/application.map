{"version":3,"sources":["application.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/core/application.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/core/","sourcesContent":["import {Injector, bind, OpaqueToken} from 'angular2/di';\nimport {Type, FIELD, isBlank, isPresent, BaseException, assertionsEnabled, print} from 'angular2/src/facade/lang';\nimport {BrowserDomAdapter} from 'angular2/src/dom/browser_adapter';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {Compiler, CompilerCache} from './compiler/compiler';\nimport {ProtoView} from './compiler/view';\nimport {Reflector, reflector} from 'angular2/src/reflection/reflection';\nimport {Parser, Lexer, ChangeDetection, dynamicChangeDetection, jitChangeDetection} from 'angular2/change_detection';\nimport {ExceptionHandler} from './exception_handler';\nimport {TemplateLoader} from './compiler/template_loader';\nimport {TemplateResolver} from './compiler/template_resolver';\nimport {DirectiveMetadataReader} from './compiler/directive_metadata_reader';\nimport {List, ListWrapper} from 'angular2/src/facade/collection';\nimport {Promise, PromiseWrapper} from 'angular2/src/facade/async';\nimport {VmTurnZone} from 'angular2/src/core/zone/vm_turn_zone';\nimport {LifeCycle} from 'angular2/src/core/life_cycle/life_cycle';\nimport {ShadowDomStrategy, NativeShadowDomStrategy, EmulatedUnscopedShadowDomStrategy} from 'angular2/src/core/compiler/shadow_dom_strategy';\nimport {XHR} from 'angular2/src/core/compiler/xhr/xhr';\nimport {XHRImpl} from 'angular2/src/core/compiler/xhr/xhr_impl';\nimport {EventManager, DomEventsPlugin} from 'angular2/src/core/events/event_manager';\nimport {HammerGesturesPlugin} from 'angular2/src/core/events/hammer_gestures';\nimport {Binding} from 'angular2/src/di/binding';\nimport {ComponentUrlMapper} from 'angular2/src/core/compiler/component_url_mapper';\nimport {UrlResolver} from 'angular2/src/core/compiler/url_resolver';\nimport {StyleUrlResolver} from 'angular2/src/core/compiler/style_url_resolver';\nimport {StyleInliner} from 'angular2/src/core/compiler/style_inliner';\nimport {CssProcessor} from 'angular2/src/core/compiler/css_processor';\n\nvar _rootInjector: Injector;\n\n// Contains everything that is safe to share between applications.\nvar _rootBindings = [\n  bind(Reflector).toValue(reflector)\n];\n\nexport var appViewToken = new OpaqueToken('AppView');\nexport var appChangeDetectorToken = new OpaqueToken('AppChangeDetector');\nexport var appElementToken = new OpaqueToken('AppElement');\nexport var appComponentAnnotatedTypeToken = new OpaqueToken('AppComponentAnnotatedType');\nexport var appDocumentToken = new OpaqueToken('AppDocument');\n\nfunction _injectorBindings(appComponentType): List<Binding> {\n  return [\n      bind(appDocumentToken).toValue(DOM.defaultDoc()),\n      bind(appComponentAnnotatedTypeToken).toFactory((reader) => {\n        // TODO(rado): inspect annotation here and warn if there are bindings,\n        // lightDomServices, and other component annotations that are skipped\n        // for bootstrapping components.\n        return reader.read(appComponentType);\n      }, [DirectiveMetadataReader]),\n\n      bind(appElementToken).toFactory((appComponentAnnotatedType, appDocument) => {\n        var selector = appComponentAnnotatedType.annotation.selector;\n        var element = DOM.querySelector(appDocument, selector);\n        if (isBlank(element)) {\n          throw new BaseException(`The app selector \"${selector}\" did not match any elements`);\n        }\n        return element;\n      }, [appComponentAnnotatedTypeToken, appDocumentToken]),\n\n      bind(appViewToken).toAsyncFactory((changeDetection, compiler, injector, appElement,\n        appComponentAnnotatedType, strategy, eventManager, reflector) => {\n        return compiler.compile(appComponentAnnotatedType.type).then(\n            (protoView) => {\n          var appProtoView = ProtoView.createRootProtoView(protoView, appElement,\n            appComponentAnnotatedType, changeDetection.createProtoChangeDetector('root'),\n            strategy);\n          // The light Dom of the app element is not considered part of\n          // the angular application. Thus the context and lightDomInjector are\n          // empty.\n          var view = appProtoView.instantiate(null, eventManager, reflector);\n          view.hydrate(injector, null, new Object());\n          return view;\n        });\n      }, [ChangeDetection, Compiler, Injector, appElementToken, appComponentAnnotatedTypeToken,\n          ShadowDomStrategy, EventManager, Reflector]),\n\n      bind(appChangeDetectorToken).toFactory((rootView) => rootView.changeDetector,\n          [appViewToken]),\n      bind(appComponentType).toFactory((rootView) => rootView.elementInjectors[0].getComponent(),\n          [appViewToken]),\n      bind(LifeCycle).toFactory((exceptionHandler) => new LifeCycle(exceptionHandler, null, assertionsEnabled()),[ExceptionHandler]),\n      bind(EventManager).toFactory((zone) => {\n        var plugins = [new HammerGesturesPlugin(), new DomEventsPlugin()];\n        return new EventManager(plugins, zone);\n      }, [VmTurnZone]),\n      bind(ShadowDomStrategy).toFactory(\n          (styleUrlResolver, doc) => new EmulatedUnscopedShadowDomStrategy(styleUrlResolver, doc.head),\n          [StyleUrlResolver, appDocumentToken]),\n      Compiler,\n      CompilerCache,\n      TemplateResolver,\n      bind(ChangeDetection).toValue(dynamicChangeDetection),\n      TemplateLoader,\n      DirectiveMetadataReader,\n      Parser,\n      Lexer,\n      ExceptionHandler,\n      bind(XHR).toValue(new XHRImpl()),\n      ComponentUrlMapper,\n      UrlResolver,\n      StyleUrlResolver,\n      StyleInliner,\n      bind(CssProcessor).toFactory(() => new CssProcessor(null), []),\n  ];\n}\n\nfunction _createVmZone(givenReporter:Function): VmTurnZone {\n  var defaultErrorReporter = (exception, stackTrace) => {\n    var longStackTrace = ListWrapper.join(stackTrace, \"\\n\\n-----async gap-----\\n\");\n    print(`${exception}\\n\\n${longStackTrace}`);\n    throw exception;\n  };\n\n  var reporter = isPresent(givenReporter) ? givenReporter : defaultErrorReporter;\n\n  var zone = new VmTurnZone({enableLongStackTrace: assertionsEnabled()});\n  zone.initCallbacks({onErrorHandler: reporter});\n  return zone;\n}\n\n// Multiple calls to this method are allowed. Each application would only share\n// _rootInjector, which is not user-configurable by design, thus safe to share.\nexport function bootstrap(appComponentType: Type, bindings: List<Binding>=null, givenBootstrapErrorReporter: Function=null): Promise {\n  BrowserDomAdapter.makeCurrent();\n  var bootstrapProcess = PromiseWrapper.completer();\n\n  var zone = _createVmZone(givenBootstrapErrorReporter);\n  zone.run(() => {\n    // TODO(rado): prepopulate template cache, so applications with only\n    // index.html and main.js are possible.\n\n    var appInjector = _createAppInjector(appComponentType, bindings, zone);\n\n    PromiseWrapper.then(appInjector.asyncGet(appViewToken),\n      (rootView) => {\n        // retrieve life cycle: may have already been created if injected in root component\n        var lc=appInjector.get(LifeCycle);\n        lc.registerWith(zone, rootView.changeDetector);\n        lc.tick(); //the first tick that will bootstrap the app\n\n        bootstrapProcess.resolve(appInjector);\n      },\n\n      (err) => {\n        bootstrapProcess.reject(err)\n      });\n  });\n\n  return bootstrapProcess.promise;\n}\n\nfunction _createAppInjector(appComponentType: Type, bindings: List<Binding>, zone: VmTurnZone): Injector {\n  if (isBlank(_rootInjector)) _rootInjector = new Injector(_rootBindings);\n  var mergedBindings = isPresent(bindings) ?\n      ListWrapper.concat(_injectorBindings(appComponentType), bindings) :\n      _injectorBindings(appComponentType);\n  ListWrapper.push(mergedBindings, bind(VmTurnZone).toValue(zone));\n  return _rootInjector.createChild(mergedBindings);\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.genericType($__placeholder__0)","assert.argumentTypes($__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}