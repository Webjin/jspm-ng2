{"version":3,"sources":["css_processor_spec.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/14"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/css_processor_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/","sourcesContent":["import {describe, it, expect, beforeEach, ddescribe, iit, xit, el} from 'angular2/test_lib';\nimport {CssProcessor, CssTransformer} from 'angular2/src/core/compiler/css_processor';\n\nimport {ShadowDomStrategy} from 'angular2/src/core/compiler/shadow_dom_strategy';\n\nimport {CompilePipeline} from 'angular2/src/core/compiler/pipeline/compile_pipeline';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step';\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\n\nimport {DOM} from 'angular2/src/dom/dom_adapter';\n\nimport {Component} from 'angular2/src/core/annotations/annotations';\n\nimport {DirectiveMetadata} from 'angular2/src/core/compiler/directive_metadata';\n\nimport {ListWrapper} from 'angular2/src/facade/collection';\n\nexport function main() {\n  describe('CssProcessor', () => {\n    describe('compile step', () => {\n      function createPipeline(cssProcessor: CssProcessor, strategy: ShadowDomStrategy,\n                              templateUrl: string) {\n        var annotation = new Component();\n        var meta = new DirectiveMetadata(SomeComponent, annotation);\n        return new CompilePipeline([\n          cssProcessor.getCompileStep(meta, strategy, templateUrl)\n        ]);\n      }\n\n      it('it should set ignoreBindings to true for style elements', () => {\n        var strategy = new FakeShadowDomStrategy(null);\n        var cssProcessor = new CssProcessor(null);\n\n        var pipeline = createPipeline(cssProcessor, strategy, 'http://base');\n        var results = pipeline.process(el('<div><style></style></div>'));\n\n        expect(results[0].ignoreBindings).toBe(false);\n        expect(results[1].ignoreBindings).toBe(true);\n      });\n\n      it('should execute the strategy step for style elements', () => {\n        var processedEls = [];\n        var compileStep = new MockStep((parent, current, control) => {\n          ListWrapper.push(processedEls, current.element);\n        });\n        var strategy = new FakeShadowDomStrategy(compileStep);\n\n        var cssProcessor = new CssProcessor(null);\n        var pipeline = createPipeline(cssProcessor, strategy, 'http://base');\n        var results = pipeline.process(el('<div><style></style></div>'));\n\n        expect(processedEls.length).toEqual(1);\n        expect(processedEls[0]).toBe(results[1].element);\n      });\n\n      it('should apply the given transformers', () => {\n        var strategy = new FakeShadowDomStrategy(null);\n        var cssProcessor = new CssProcessor([\n          new FakeCssTransformer('/*transformer1 */'),\n          new FakeCssTransformer('/*transformer2 */'),\n        ]);\n\n        var pipeline = createPipeline(cssProcessor, strategy, 'http://base');\n        var results = pipeline.process(el('<div><style></style></div>'));\n\n        expect(results[1].element).toHaveText('/*transformer1 *//*transformer2 */');\n      });\n    });\n  });\n}\n\nclass FakeShadowDomStrategy extends ShadowDomStrategy {\n  _compileStep: CompileStep;\n\n  constructor(compileStep: CompileStep) {\n    super();\n    this._compileStep = compileStep;\n  }\n\n  getStyleCompileStep(cmpMetadata: DirectiveMetadata, templateUrl: string): CompileStep {\n    return this._compileStep;\n  }\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\nclass FakeCssTransformer extends CssTransformer {\n  _css: string;\n\n  constructor(css: string) {\n    super();\n    this._css = css;\n  }\n\n  transform(styleEl) {\n    var cssText = DOM.getText(styleEl);\n    cssText += this._css;\n    DOM.setText(styleEl, cssText);\n  }\n}\n\nclass SomeComponent {}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","return assert.returnType(($__placeholder__0), $__placeholder__1)","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)"]}