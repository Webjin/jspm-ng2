{"version":3,"sources":["pipeline_spec.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/172"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/pipeline/pipeline_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/pipeline/","sourcesContent":["import {describe, beforeEach, it, expect, iit, ddescribe, el} from 'angular2/test_lib';\nimport {ListWrapper, List, MapWrapper} from 'angular2/src/facade/collection';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {isPresent, NumberWrapper, StringWrapper} from 'angular2/src/facade/lang';\n\nimport {CompilePipeline} from 'angular2/src/core/compiler/pipeline/compile_pipeline';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step'\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\n\nexport function main() {\n  describe('compile_pipeline', () => {\n    describe('children compilation', () => {\n      it('should walk the tree in depth first order including template contents', () => {\n        var element = el('<div id=\"1\"><template id=\"2\"><span id=\"3\"></span></template></div>');\n\n        var step0Log = [];\n        var results = new CompilePipeline([createLoggerStep(step0Log)]).process(element);\n\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(resultIdLog(results)).toEqual(['1', '2', '3']);\n      });\n\n      it('should stop walking the tree when compileChildren is false', () => {\n        var element = el('<div id=\"1\"><template id=\"2\" ignore-children><span id=\"3\"></span></template></div>');\n\n        var step0Log = [];\n        var pipeline = new CompilePipeline([new IgnoreChildrenStep(), createLoggerStep(step0Log)]);\n        var results = pipeline.process(element);\n\n        expect(step0Log).toEqual(['1', '1<2']);\n        expect(resultIdLog(results)).toEqual(['1', '2']);\n      });\n    });\n\n    describe('control.addParent', () => {\n      it('should report the new parent to the following processor and the result', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"1\" id=\"2\"><b id=\"3\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var pipeline = new CompilePipeline([\n          createWrapperStep('wrap0', step0Log),\n          createLoggerStep(step1Log)\n        ]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', '2', '3']);\n      });\n\n      it('should allow to add a parent by multiple processors to the same element', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"1\" wrap1=\"1\" id=\"2\"><b id=\"3\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var step2Log = [];\n        var pipeline = new CompilePipeline([\n          createWrapperStep('wrap0', step0Log),\n          createWrapperStep('wrap1', step1Log),\n          createLoggerStep(step2Log)\n        ]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<3']);\n        expect(step2Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<wrap1#0', 'wrap1#0<2', '2<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', 'wrap1#0', '2', '3']);\n      });\n\n      it('should allow to add a parent by multiple processors to different elements', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"1\" id=\"2\"><b id=\"3\" wrap1=\"1\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var step2Log = [];\n        var pipeline = new CompilePipeline([\n          createWrapperStep('wrap0', step0Log),\n          createWrapperStep('wrap1', step1Log),\n          createLoggerStep(step2Log)\n        ]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<3']);\n        expect(step2Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<2', '2<wrap1#0', 'wrap1#0<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', '2', 'wrap1#0', '3']);\n      });\n\n      it('should allow to add multiple parents by the same processor', () => {\n        var element = el('<div id=\"1\"><span wrap0=\"2\" id=\"2\"><b id=\"3\"></b></span></div>');\n        var step0Log = [];\n        var step1Log = [];\n        var pipeline = new CompilePipeline([\n          createWrapperStep('wrap0', step0Log),\n          createLoggerStep(step1Log)\n        ]);\n        var result = pipeline.process(element);\n        expect(step0Log).toEqual(['1', '1<2', '2<3']);\n        expect(step1Log).toEqual(['1', '1<wrap0#0', 'wrap0#0<wrap0#1', 'wrap0#1<2', '2<3']);\n        expect(resultIdLog(result)).toEqual(['1', 'wrap0#0', 'wrap0#1', '2', '3']);\n      });\n\n    });\n\n    describe('control.addChild', () => {\n      it('should report the new child to all processors and the result', () => {\n        var element = el('<div id=\"1\"><div id=\"2\"></div></div>');\n        var resultLog = [];\n        var newChild = new CompileElement(el('<div id=\"3\"></div>'));\n        var pipeline = new CompilePipeline([\n          new MockStep((parent, current, control) => {\n            if (StringWrapper.equals(DOM.getAttribute(current.element, 'id'), '1')) {\n              control.addChild(newChild);\n            }\n          }),\n          createLoggerStep(resultLog)\n        ]);\n        var result = pipeline.process(element);\n        expect(result[2]).toBe(newChild);\n        expect(resultLog).toEqual(['1', '1<2', '1<3']);\n        expect(resultIdLog(result)).toEqual(['1', '2', '3']);\n      });\n    });\n\n  });\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\nexport class IgnoreChildrenStep extends CompileStep {\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    var attributeMap = DOM.attributeMap(current.element);\n    if (MapWrapper.contains(attributeMap, 'ignore-children')) {\n      current.compileChildren = false;\n    }\n  }\n}\n\nfunction logEntry(log, parent, current) {\n  var parentId = '';\n  if (isPresent(parent)) {\n    parentId = DOM.getAttribute(parent.element, 'id') + '<';\n  }\n  ListWrapper.push(log, parentId + DOM.getAttribute(current.element, 'id'));\n}\n\nfunction createLoggerStep(log) {\n  return new MockStep((parent, current, control) => {\n    logEntry(log, parent, current);\n  });\n}\n\nfunction createWrapperStep(wrapperId, log) {\n  var nextElementId = 0;\n  return new MockStep((parent, current, control) => {\n    var parentCountStr = DOM.getAttribute(current.element, wrapperId);\n    if (isPresent(parentCountStr)) {\n      var parentCount = NumberWrapper.parseInt(parentCountStr, 10);\n      while (parentCount > 0) {\n        control.addParent(new CompileElement(el(`<a id=\"${wrapperId}#${nextElementId++}\"></a>`)));\n        parentCount--;\n      }\n    }\n    logEntry(log, parent, current);\n  });\n}\n\nfunction resultIdLog(result) {\n  var idLog = [];\n  ListWrapper.forEach(result, (current) => {\n    logEntry(idLog, null, current);\n  });\n  return idLog;\n}","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","assert.argumentTypes($__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","$traceurRuntime.superConstructor(\n          $__placeholder__0).apply(this, arguments)"]}