{"version":3,"sources":["element_binding_marker_spec.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/14"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/pipeline/element_binding_marker_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/pipeline/","sourcesContent":["import {describe, beforeEach, it, expect, iit, ddescribe, el} from 'angular2/test_lib';\nimport {isPresent} from 'angular2/src/facade/lang';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {MapWrapper} from 'angular2/src/facade/collection';\n\nimport {ElementBindingMarker} from 'angular2/src/core/compiler/pipeline/element_binding_marker';\nimport {CompilePipeline} from 'angular2/src/core/compiler/pipeline/compile_pipeline';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step'\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Viewport, Decorator, Component} from 'angular2/src/core/annotations/annotations';\n\nexport function main() {\n  describe('ElementBindingMarker', () => {\n\n    function createPipeline({textNodeBindings, propertyBindings, variableBindings, eventBindings,\n      directives, ignoreBindings}={}) {\n      var reader = new DirectiveMetadataReader();\n      return new CompilePipeline([\n        new MockStep((parent, current, control) => {\n            if (isPresent(textNodeBindings)) {\n              current.textNodeBindings = textNodeBindings;\n            }\n            if (isPresent(propertyBindings)) {\n              current.propertyBindings = propertyBindings;\n            }\n            if (isPresent(variableBindings)) {\n              current.variableBindings = variableBindings;\n            }\n            if (isPresent(eventBindings)) {\n              current.eventBindings = eventBindings;\n            }\n            if (isPresent(ignoreBindings)) {\n              current.ignoreBindings = ignoreBindings;\n            }\n            if (isPresent(directives)) {\n              for (var i=0; i<directives.length; i++) {\n                current.addDirective(reader.read(directives[i]));\n              }\n            }\n          }), new ElementBindingMarker()\n      ]);\n    }\n\n    it('should not mark empty elements', () => {\n      var results = createPipeline().process(el('<div></div>'));\n      assertBinding(results[0], false);\n    });\n\n    it('should not mark elements when ignoreBindings is true', () => {\n      var textNodeBindings = MapWrapper.create();\n      MapWrapper.set(textNodeBindings, 0, 'expr');\n      var results = createPipeline({textNodeBindings: textNodeBindings,\n        ignoreBindings: true}).process(el('<div></div>'));\n      assertBinding(results[0], false);\n    });\n\n    it('should mark elements with text node bindings', () => {\n      var textNodeBindings = MapWrapper.create();\n      MapWrapper.set(textNodeBindings, 0, 'expr');\n      var results = createPipeline({textNodeBindings: textNodeBindings}).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n    it('should mark elements with property bindings', () => {\n      var propertyBindings = MapWrapper.createFromStringMap({'a': 'expr'});\n      var results = createPipeline({propertyBindings: propertyBindings}).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n    it('should mark elements with variable bindings', () => {\n      var variableBindings = MapWrapper.createFromStringMap({'a': 'expr'});\n      var results = createPipeline({variableBindings: variableBindings}).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n    it('should mark elements with event bindings', () => {\n      var eventBindings = MapWrapper.createFromStringMap({'click': 'expr'});\n      var results = createPipeline({eventBindings: eventBindings}).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n    it('should mark elements with decorator directives', () => {\n      var results = createPipeline({\n        directives: [SomeDecoratorDirective]\n      }).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n    it('should mark elements with template directives', () => {\n      var results = createPipeline({\n        directives: [SomeViewportDirective]\n      }).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n    it('should mark elements with component directives', () => {\n      var results = createPipeline({\n        directives: [SomeComponentDirective]\n      }).process(el('<div></div>'));\n      assertBinding(results[0], true);\n    });\n\n  });\n}\n\nfunction assertBinding(pipelineElement, shouldBePresent) {\n  expect(pipelineElement.hasBindings).toBe(shouldBePresent);\n  expect(DOM.hasClass(pipelineElement.element, 'ng-binding')).toBe(shouldBePresent);\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\n@Viewport()\nclass SomeViewportDirective {}\n\n@Component()\nclass SomeComponentDirective {}\n\n@Decorator()\nclass SomeDecoratorDirective {}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","assert.argumentTypes($__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)"]}