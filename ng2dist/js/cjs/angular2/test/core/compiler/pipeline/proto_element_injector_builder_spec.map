{"version":3,"sources":["proto_element_injector_builder_spec.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/14"],"names":[],"mappings":"AAAA;ACAA,KAAK,iBAAiB,AAAC,CAAC,MAAK,QAAQ;MCArC,EAAC,GAAE,YCAqB;AAAE,iBAAwB;IAAE,ADA9B,CAAC;AEAvB,WAAS,CCAT,EAAC,KAAI,CDAO,KAAG,ACAS,CAAC;CJAgC,CAAC;AKA1D,AAAI,EAAA,CAAA,YAAW,6EAAoB,CAAC;;;;;;;;;;;;;;;WCApC,EAAC,uCAAoB,CAAA,OAAM,AAAC,2BAAkB,CACtC,CAAA,wCAAqB,iDAA2B,CAAA,wCAAqB,GAAK,EAAC,OAAM,uCAAmB,CAAC,AAD/D,CACgE;SAD9G,EAAC,8BAAoB,CAAA,OAAM,AAAC,qBAAkB,CACtC,CAAA,+BAAqB,wCAA2B,CAAA,+BAAqB,GAAK,EAAC,OAAM,8BAAmB,CAAC,AAD/D,CACgE;APDtG,WAAO;AAAG,aAAS;AAAG,KAAC;AAAG,SAAK;AAAG,MAAE;AAAG,YAAQ;AAAG,KAAC;SOA3D,EAAC,wCAAoB,CAAA,OAAM,AAAC,4BAAkB,CACtC,CAAA,yCAAqB,kDAA2B,CAAA,yCAAqB,GAAK,EAAC,OAAM,wCAAmB,CAAC,AAD/D,CACgE;APAtG,YAAQ;AAAG,UAAM;EACjB,IAAE,EOFV,EAAC,+CAAoB,CAAA,OAAM,AAAC,gCAAkB,CACtC,CAAA,gDAAqB,yDAA2B,CAAA,gDAAqB,GAAK,EAAC,OAAM,+CAAmB,CAAC,AAD/D,CACgE;SAD9G,EAAC,8CAAoB,CAAA,OAAM,AAAC,kCAAkB,CACtC,CAAA,+CAAqB,wDAA2B,CAAA,+CAAqB,GAAK,EAAC,OAAM,8CAAmB,CAAC,AAD/D,CACgE;APEtG,OAAG;AAAG,cAAU;AAAG,aAAS;EAE5B,4BAA0B,EOLlC,EAAC,iGAAoB,CAAA,OAAM,AAAC,sEAAkB,CACtC,CAAA,kGAAqB,2GAA2B,CAAA,kGAAqB,GAAK,EAAC,OAAM,iGAAmB,CAAC,AAD/D,CACgE;EPKtG,gBAAc,EONtB,EAAC,6EAAoB,CAAA,OAAM,AAAC,wDAAkB,CACtC,CAAA,8EAAqB,uFAA2B,CAAA,8EAAqB,GAAK,EAAC,OAAM,6EAAmB,CAAC,AAD/D,CACgE;EPMtG,eAAa,EOPrB,EAAC,4EAAoB,CAAA,OAAM,AAAC,uDAAkB,CACtC,CAAA,6EAAqB,sFAA2B,CAAA,6EAAqB,GAAK,EAAC,OAAM,4EAAmB,CAAC,AAD/D,CACgE;EPOtG,YAAU,EORlB,EAAC,yEAAoB,CAAA,OAAM,AAAC,oDAAkB,CACtC,CAAA,0EAAqB,mFAA2B,CAAA,0EAAqB,GAAK,EAAC,OAAM,yEAAmB,CAAC,AAD/D,CACgE;EPQtG,eAAa,EOTrB,EAAC,4EAAoB,CAAA,OAAM,AAAC,uDAAkB,CACtC,CAAA,6EAAqB,sFAA2B,CAAA,6EAAqB,GAAK,EAAC,OAAM,4EAAmB,CAAC,AAD/D,CACgE;EPStG,UAAQ,EOVhB,EAAC,kDAAoB,CAAA,OAAM,AAAC,mCAAkB,CACtC,CAAA,mDAAqB,4DAA2B,CAAA,mDAAqB,GAAK,EAAC,OAAM,kDAAmB,CAAC,AAD/D,CACgE;EPUtG,wBAAsB,EOX9B,EAAC,6EAAoB,CAAA,OAAM,AAAC,wDAAkB,CACtC,CAAA,8EAAqB,uFAA2B,CAAA,8EAAqB,GAAK,EAAC,OAAM,6EAAmB,CAAC,AAD/D,CACgE;UAD9G,EAAC,4DAAoB,CAAA,OAAM,AAAC,6CAAkB,CACtC,CAAA,6DAAqB,sEAA2B,CAAA,6DAAqB,GAAK,EAAC,OAAM,4DAAmB,CAAC,AAD/D,CACgE;APWtG,WAAO;AAAG,YAAQ;AAAG,YAAQ;EAC7B,qBAAmB,EOb3B,EAAC,iEAAoB,CAAA,OAAM,AAAC,+CAAkB,CACtC,CAAA,kEAAqB,2EAA2B,CAAA,kEAAqB,GAAK,EAAC,OAAM,iEAAmB,CAAC,AAD/D,CACgE;APcvG,OAAS,KAAG,CAAE,AAAD;AAClB,SAAO,AAAC,CAAC,6BAA4B,GAAG,SAAC,AAAD;AACtC,AAAI,MAAA,CAAA,2BAA0B;AAAG,gBAAQ,CAAC;AAG1C,AAAI,MAAA,CAAA,gBAAe,CAAC;AACpB,AAAI,MAAA,CAAA,0BAAyB,CAAC;AAE9B,aAAS,AAAC,EAAE,SAAC,AAAD,CAAM;AAChB,qBAAe,EAAI,CAAA,EAAC,AAAC,CAAC,sBAAqB,CAAC,CAAC;AAC7C,+BAAyB,EAAI,CAAA,EAAC,AAAC,CAAC,iCAAgC,CAAC,CAAC;AAClE,gCAA0B,EAAI,IAAI,oCAAkC,AAAC,EAAC,CAAC;AACvE,cAAQ,EAAI,IAAI,UAAQ,AAAC,CAAC,IAAG,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;IAC7C,EAAC,CAAC;AAEF,WAAS,eAAa,CAAE,AAAgB;QAAhB,WAAS,6CAAI,KAAG;AACtC,SAAI,OAAM,AAAC,CAAC,UAAS,CAAC,CAAG;AACvB,iBAAS,EAAI,GAAC,CAAC;MACjB;AAAA,AACI,QAAA,CAAA,MAAK,EAAI,IAAI,wBAAsB,AAAC,EAAC,CAAC;AAC1C,WAAO,IAAI,gBAAc,AAAC,CAAC,CAAC,GAAI,SAAO,AAAC,EAAC,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AACrE,WAAI,SAAQ,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,OAAM,QAAQ,CAAG,WAAS,CAAC,CAAC,CAAG;AAC5D,gBAAM,WAAW,EAAI,KAAG,CAAC;QAC3B;AAAA,AAEA,WAAI,SAAQ,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,OAAM,QAAQ,CAAG,aAAW,CAAC,CAAC,CAAG;AAC9D,cAAS,GAAA,CAAA,CAAA,EAAE,EAAA,CAAG,CAAA,CAAA,EAAE,CAAA,UAAS,OAAO,CAAG,CAAA,CAAA,EAAE,CAAG;AACtC,AAAI,cAAA,CAAA,WAAU,EAAI,CAAA,MAAK,KAAK,AAAC,CAAC,UAAS,CAAE,CAAA,CAAC,CAAC,CAAC;AAC5C,kBAAM,aAAa,AAAC,CAAC,WAAU,CAAC,CAAC;UACnC;AAAA,QACF;AAAA,AAGA,WAAI,SAAQ,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,OAAM,QAAQ,CAAG,WAAS,CAAC,CAAC,CAAG;AAC5D,gBAAM,iBAAiB,EAAI,CAAA,UAAS,OAAO,AAAC,EAAC,CAAC;AAC9C,mBAAS,IAAI,AAAC,CAAC,OAAM,iBAAiB,CAAG,aAAW,CAAG,OAAK,CAAC,CAAC;QAChE;AAAA,AAEA,cAAM,mBAAmB,EAAI,UAAQ,CAAC;MACxC,EAAC,CAAG,4BAA0B,CAAC,CAAC,CAAC;IACnC;AAEA,WAAS,gBAAc,CAAE,oBAAmB,CAAG;AAC7C,WAAO,CAAA,2BAA0B,YAAY,AAAC,CAAC,oBAAmB,CAAC,CAAC;IACtE;AAAA,AAEA,KAAC,AAAC,CAAC,kFAAiF,GAAG,SAAC,AAAD,CAAM;AAC3F,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,EAAC,QAAQ,AAAC,CAAC,EAAC,AAAC,CAAC,aAAY,CAAC,CAAC,CAAC;AACzD,WAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;IAC7D,EAAC,CAAC;AAEF,KAAC,AAAC,CAAC,2EAA0E,GAAG,SAAC,AAAD,CAAM;AACpF,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,EAAC,QAAQ,AAAC,CAAC,gBAAe,CAAC,CAAC;AACxD,WAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,iBAAiB,AAAC,CAAC,oBAAmB,CAAC,CAAC;IACzF,EAAC,CAAC;AAEF,KAAC,AAAC,CAAC,8DAA6D,GAAG,SAAC,AAAD;AACjE,AAAI,QAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAG,sBAAoB,CAAG,uBAAqB,CAAC,CAAC;AACxF,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,EAAC,AAAC,CAAC,wBAAuB,CAAC,CAAC,CAAC;AAC9E,AAAI,QAAA,CAAA,YAAW,EAAI,CAAA,eAAc,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,CAAC;AAC5E,AAAI,QAAA,CAAA,eAAc,EAAI,CAAA,YAAW,CAAE,UAAS,CAAC,IAAI,AAAC,EAAC,SAAC,CAAA;aAAM,CAAA,CAAA,IAAI,MAAM;MAAA,EAAC,CAAC;AACtE,WAAK,AAAC,CAAC,eAAc,CAAC,QAAQ,AAAC,CAAC,UAAS,CAAC,CAAC;IAC7C,EAAC,CAAC;AAEF,KAAC,AAAC,CAAC,kFAAiF,EAChF,mCAAiC,GAAG,SAAC,AAAD,CAAM;AAC5C,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,sBAAqB,CAAC,CAAC,QAAQ,AAAC,CAAC,0BAAyB,CAAC,CAAC;AAC1F,WAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,gBAAgB,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAC3E,WAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,cAAc,CAAC,KAAK,AAAC,CAAC,KAAI,CAAC,CAAC;IAC5E,EAAC,CAAC;AAEF,KAAC,AAAC,CAAC,uEAAsE,EACrE,+CAA6C,GAAG,SAAC,AAAD,CAAM;AACxD,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,CAAC,sBAAqB,CAAC,CAAC,QAAQ,AAAC,CAAC,gBAAe,CAAC,CAAC;AAChF,WAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,gBAAgB,CAAC,KAAK,AAAC,CAAC,KAAI,CAAC,CAAC;AAC5E,WAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,cAAc,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;IAC3E,EAAC,CAAC;AAEF,KAAC,AAAC,CAAC,sFAAqF,EACpF,sCAAoC,GAAG,SAAC,AAAD;AACzC,AAAI,QAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAG,uBAAqB,CAAC,CAAC;AACjE,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,EAAC,AAAC,CAAC,wBAAuB,CAAC,CAAC,CAAC;AAC9E,AAAI,QAAA,CAAA,YAAW,EAAI,CAAA,eAAc,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,CAAC;AAC5E,WAAK,AAAC,CAAC,YAAW,CAAE,yBAAwB,CAAC,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAC1D,AAAI,QAAA,CAAA,eAAc,EAAI,CAAA,YAAW,CAAE,UAAS,CAAC,IAAI,AAAC,EAAC,SAAC,CAAA;aAAM,CAAA,CAAA,IAAI,MAAM;MAAA,EAAC,CAAC;AACtE,WAAK,AAAC,CAAC,eAAc,CAAC,QAAQ,AAAC,CAAC,CAAC,sBAAqB,CAAG,uBAAqB,CAAC,CAAC,CAAC;IACnF,EAAC,CAAC;AAEF,KAAC,AAAC,CAAC,8EAA6E,GAAG,SAAC,AAAD,CAAM;AAEvF,gBAAU,KAAK,AAAC,CAAC,SAAQ,eAAe,CAAG,KAAG,CAAC,CAAC;AAChD,gBAAU,KAAK,AAAC,CAAC,SAAQ,eAAe,CAAG,KAAG,CAAC,CAAC;AAChD,AAAI,QAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,QAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,EAAC,AAAC,CAAC,wBAAuB,CAAC,CAAC,CAAC;AAC9E,AAAI,QAAA,CAAA,YAAW,EAAI,CAAA,eAAc,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,CAAC;AAC5E,WAAK,AAAC,CAAC,YAAW,CAAE,OAAM,CAAC,CAAC,KAAK,AAAC,CAAC,SAAQ,eAAe,OAAO,CAAC,CAAC;IACrE,EAAC,CAAC;AAEF,WAAO,AAAC,CAAC,+BAA8B,GAAG,SAAC,AAAD;AACxC,OAAC,AAAC,CAAC,6EAA4E,GAAG,SAAC,AAAD,CAAM;AACtF,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,EAAC,AAAC,CAAC,qCAAoC,CAAC,CAAC,CAAC;AAC3F,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,KAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,CAAC;MACjG,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,qEAAoE,GAAG,SAAC,AAAD,CAAM;AAC9E,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,uDAAsD,CAAC,CAAC;AACzE,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,OAAM,CAAC,CAAC;AACzD,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,OAAO,CAAC,KAAK,AAAC,CAC1D,OAAM,CAAE,CAAA,CAAC,8BAA8B,CAAC,CAAC;MAC7C,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,wCAAuC,GAAG,SAAC,AAAD,CAAM;AACjD,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,yDAAwD,CAAC,CAAC;AAC3E,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,OAAM,CAAC,CAAC;AACzD,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,OAAO,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;MACpE,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,+DAA8D,GAAG,SAAC,AAAD,CAAM;AACxE,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,gEAA+D,CAAC,CAAC;AAClF,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,OAAM,CAAC,CAAC;AACzD,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,OAAO,CAAC,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;MACpE,EAAC,CAAC;IACJ,EAAC,CAAC;AAEF,WAAO,AAAC,CAAC,0BAAyB,GAAG,SAAC,AAAD;AACnC,OAAC,AAAC,CAAC,+BAA8B,GAAG,SAAC,AAAD,CAAM;AACxC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,wBAAuB,CAAC,CAAC;AAC1C,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,OAAM,CAAC,CAAC;AACzD,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,iBAAiB,CAAC,KAAK,AAAC,CAAC,CAAA,CAAC,CAAC;MAC3E,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,mDAAkD,GAAG,SAAC,AAAD,CAAM;AAC5D,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,gDAA+C,CAAC,CAAC;AAClE,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,OAAM,CAAC,CAAC;AACzD,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,iBAAiB,CAAC,KAAK,AAAC,CAAC,CAAA,CAAC,CAAC;MAC3E,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,+DAA8D,GAAG,SAAC,AAAD,CAAM;AACxE,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,8DAA6D,CAAC,CAAC;AAChF,AAAI,UAAA,CAAA,UAAS,EAAI,EAAC,sBAAqB,CAAC,CAAC;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,cAAa,AAAC,CAAC,UAAS,CAAC,QAAQ,AAAC,CAAC,OAAM,CAAC,CAAC;AACzD,aAAK,AAAC,CAAC,OAAM,CAAE,CAAA,CAAC,8BAA8B,iBAAiB,CAAC,KAAK,AAAC,CAAC,CAAA,CAAC,CAAC;MAC3E,EAAC,CAAC;IACJ,EAAC,CAAC;EACJ,EAAC,CAAC;AACJ;AQtKA,AAAI,EAAA,sCRyKJ,SAAM,oCAAkC,CAG1B,AAAD,CAAG;AACZ,AS7KJ,gBAAc,iBAAiB,AAAC,sCAAkB,KAAK,MAAmB,CT6K/D;AACP,KAAG,aAAa,EAAI,GAAC,CAAC;AACxB,AQ/KsC,CAAA;AEAxC,AAAI,EAAA,2EAAoC,CAAA;ACAxC,AAAC,eAAc,YAAY,CAAC,AAAC;AXiL3B,YAAU,CAAV,UAAY,oBAAmB,AAAqB,CAAG;AYjLzD,SAAK,cAAc,sBZiLgB,qBAAmB,CYjLhB,CAAA;AZkLlC,QAAS,GAAA,CAAA,CAAA,EAAE,EAAA,CAAG,CAAA,CAAA,EAAE,CAAA,IAAG,aAAa,OAAO,CAAG,CAAA,CAAA,GAAG,EAAA,CAAG;AAC9C,SAAI,IAAG,aAAa,CAAE,CAAA,CAAC,IAAM,qBAAmB,CAAG;AACjD,aAAO,CAAA,IAAG,aAAa,CAAE,CAAA,EAAE,EAAA,CAAC,CAAC;MAC/B;AAAA,IACF;AAAA,AACA,SAAO,KAAG,CAAC;EACb;AAEA,mCAAiC,CAAjC,UAAmC,MAAK,CAAG,CAAA,KAAI,CAAG,CAAA,QAAO,CAAG,CAAA,uBAAsB,CAAG,CAAA,QAAO,CAAG;AAC7F,AAAI,MAAA,CAAA,MAAK,EAAI,IAAI,qBAAmB,AAAC,CAAC,MAAK,CAAG,MAAI,CAAG,SAAO,CAAG,wBAAsB,CAAG,SAAO,CAAC,CAAC;AACjG,cAAU,KAAK,AAAC,CAAC,IAAG,aAAa,CAAG,OAAK,CAAC,CAAC;AAC3C,cAAU,KAAK,AAAC,CAAC,IAAG,aAAa,CAAG;AAAC,aAAO,CAAG,OAAK;AAAG,YAAM,CAAG,MAAI;AAAG,eAAS,CAAG,SAAO;AAAG,8BAAwB,CAAG,wBAAsB;AAAA,IAAC,CAAC,CAAC;AACjJ,SAAO,OAAK,CAAC;EACf;AAAA,KAtBgD,4BAA0B,CWxKpB;AEDxD,KAAK,eAAe,AAAC,yEACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,YbgLS,oBAAmB,GahLL;EAAC,CAAC,CAAC,CAAC;ALDrD,AAAI,EAAA,WRkMJ,SAAM,SAAO,CAEC,OAAM,CAAG;AACnB,ASrMJ,gBAAc,iBAAiB,AAAC,WAAkB,KAAK,MAAmB,CTqM/D;AACP,KAAG,eAAe,EAAI,QAAM,CAAC;AAC/B,AQvMsC,CAAA;AEAxC,AAAI,EAAA,qBAAoC,CAAA;ACAxC,AAAC,eAAc,YAAY,CAAC,AAAC,YXwM3B,OAAM,CAAN,UAAQ,MAAK,AAAe,CAAG,CAAA,OAAM,AAAe,CAAG,CAAA,OAAM,AAAe,CAAG;AYxMjF,SAAK,cAAc,QZwMF,eAAa,UAAW,eAAa,UAAW,eAAa,CYxMxC,CAAA;AZyMlC,OAAG,eAAe,AAAC,CAAC,MAAK,CAAG,QAAM,CAAG,QAAM,CAAC,CAAC;EAC/C,MARqB,YAAU,CWjMuB;AEDxD,KAAK,eAAe,AAAC,0CACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,YbuMT,cAAa,IAAW,cAAa,IAAW,cAAa,GavM7B;EAAC,CAAC,CAAC,CAAC;ALDrD,AAAI,EAAA,uBR6MJ,SAAM,qBAAmB,KAAG,AQ7MY,CAAA;AMAxC,AAAC,eAAc,YAAY,CAAC,AAAC,8BAAwD;ANArF,AAAI,EAAA,wBRgNJ,SAAM,sBAAoB,KAAG,AQhNW,CAAA;AMAxC,AAAC,eAAc,YAAY,CAAC,AAAC,+BAAwD;ADArF,KAAK,eAAe,AAAC,sCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,cb8MzB,SAAO,AAAC,EAAC,Ea9MuC;EAAC,CAAC,CAAC,CAAC;ALDrD,AAAI,EAAA,yBRqNJ,SAAM,uBAAqB,KAAG,AQrNU,CAAA;AMAxC,AAAC,eAAc,YAAY,CAAC,AAAC,gCAAwD;ADArF,KAAK,eAAe,AAAC,uCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,cbiNzB,UAAQ,AAAC,CAAC,CACT,iBAAgB,CAAG,EAAC,oBAAmB,CAAC,CAC1C,CAAC,EanNgD;EAAC,CAAC,CAAC,CAAC;ALDrD,AAAI,EAAA,yBRwNJ,SAAM,uBAAqB,KAAG,AQxNU,CAAA;AMAxC,AAAC,eAAc,YAAY,CAAC,AAAC,gCAAwD;ADArF,KAAK,eAAe,AAAC,uCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,cbsNzB,UAAQ,AAAC,EAAC,EatNsC;EAAC,CAAC,CAAC,CAAC;AbwNrD","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/pipeline/proto_element_injector_builder_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/core/compiler/pipeline/","sourcesContent":["import {describe, beforeEach, it, expect, iit, ddescribe, el} from 'angular2/test_lib';\nimport {isPresent, isBlank} from 'angular2/src/facade/lang';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {List, ListWrapper, MapWrapper} from 'angular2/src/facade/collection';\n\nimport {ProtoElementInjectorBuilder} from 'angular2/src/core/compiler/pipeline/proto_element_injector_builder';\nimport {CompilePipeline} from 'angular2/src/core/compiler/pipeline/compile_pipeline';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step'\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\nimport {ProtoView} from 'angular2/src/core/compiler/view';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Viewport, Decorator, Component} from 'angular2/src/core/annotations/annotations';\nimport {ProtoElementInjector} from 'angular2/src/core/compiler/element_injector';\n\nexport function main() {\n  describe('ProtoElementInjectorBuilder', () => {\n    var protoElementInjectorBuilder, protoView;\n    // Create consts for an elements with a var- so that we can fake parsing the var into\n    // the CompileElement's variableBindings without actually doing any parsing.\n    var ELEMENT_WITH_VAR;\n    var DIRECTIVE_ELEMENT_WITH_VAR;\n\n    beforeEach( () => {\n      ELEMENT_WITH_VAR = el('<div var-name></div>');\n      DIRECTIVE_ELEMENT_WITH_VAR = el('<div var-name directives></div>');\n      protoElementInjectorBuilder = new TestableProtoElementInjectorBuilder();\n      protoView = new ProtoView(null, null, null);\n    });\n\n    function createPipeline(directives = null) {\n      if (isBlank(directives)) {\n        directives = [];\n      }\n      var reader = new DirectiveMetadataReader();\n      return new CompilePipeline([new MockStep((parent, current, control) => {\n        if (isPresent(DOM.getAttribute(current.element, 'viewroot'))) {\n          current.isViewRoot = true;\n        }\n\n        if (isPresent(DOM.getAttribute(current.element, 'directives'))) {\n          for (var i=0; i<directives.length; i++) {\n            var dirMetadata = reader.read(directives[i]);\n            current.addDirective(dirMetadata);\n          }\n        }\n\n        // Check only for the hard-coded var- attribute from ELEMENT_WITH_VAR test element.\n        if (isPresent(DOM.getAttribute(current.element, 'var-name'))) {\n          current.variableBindings = MapWrapper.create();\n          MapWrapper.set(current.variableBindings, '\\$implicit', 'name');\n        }\n\n        current.inheritedProtoView = protoView;\n      }), protoElementInjectorBuilder]);\n    }\n\n    function getCreationArgs(protoElementInjector) {\n      return protoElementInjectorBuilder.findArgsFor(protoElementInjector);\n    }\n\n    it('should not create a ProtoElementInjector for elements without directives or vars', () => {\n      var results = createPipeline().process(el('<div></div>'));\n      expect(results[0].inheritedProtoElementInjector).toBe(null);\n    });\n\n    it('should create a ProtoElementInjector for elements with a variable binding', () => {\n      var results = createPipeline().process(ELEMENT_WITH_VAR);\n      expect(results[0].inheritedProtoElementInjector).toBeAnInstanceOf(ProtoElementInjector);\n    });\n\n    it('should create a ProtoElementInjector for elements directives', () => {\n      var directives = [SomeComponentDirective, SomeViewportDirective, SomeDecoratorDirective];\n      var results = createPipeline(directives).process(el('<div directives></div>'));\n      var creationArgs = getCreationArgs(results[0].inheritedProtoElementInjector);\n      var boundDirectives = creationArgs['bindings'].map((b) => b.key.token);\n      expect(boundDirectives).toEqual(directives);\n    });\n\n    it('should flag the ProtoElementInjector for exporting the component instance when a' +\n        'component has a var- declaration', () => {\n      var results = createPipeline([SomeComponentDirective]).process(DIRECTIVE_ELEMENT_WITH_VAR);\n      expect(results[0].inheritedProtoElementInjector.exportComponent).toBe(true);\n      expect(results[0].inheritedProtoElementInjector.exportElement).toBe(false);\n    });\n\n    it('should flag the ProtoElementInjector for exporting the element when a' +\n        'non-component element has a var- declaration', () => {\n      var results = createPipeline([SomeComponentDirective]).process(ELEMENT_WITH_VAR);\n      expect(results[0].inheritedProtoElementInjector.exportComponent).toBe(false);\n      expect(results[0].inheritedProtoElementInjector.exportElement).toBe(true);\n    });\n\n    it('should mark ProtoElementInjector for elements with component directives and use the ' +\n        'ComponentDirective as first binding', () => {\n      var directives = [SomeDecoratorDirective, SomeComponentDirective];\n      var results = createPipeline(directives).process(el('<div directives></div>'));\n      var creationArgs = getCreationArgs(results[0].inheritedProtoElementInjector);\n      expect(creationArgs['firstBindingIsComponent']).toBe(true);\n      var boundDirectives = creationArgs['bindings'].map((b) => b.key.token);\n      expect(boundDirectives).toEqual([SomeComponentDirective, SomeDecoratorDirective]);\n    });\n\n    it('should use the next ElementBinder index as index of the ProtoElementInjector', () => {\n      // just adding some indices..\n      ListWrapper.push(protoView.elementBinders, null);\n      ListWrapper.push(protoView.elementBinders, null);\n      var directives = [SomeDecoratorDirective];\n      var results = createPipeline(directives).process(el('<div directives></div>'));\n      var creationArgs = getCreationArgs(results[0].inheritedProtoElementInjector);\n      expect(creationArgs['index']).toBe(protoView.elementBinders.length);\n    });\n\n    describe(\"inheritedProtoElementInjector\", () => {\n      it('should inherit the ProtoElementInjector down to children without directives', () => {\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(el('<div directives><span></span></div>'));\n        expect(results[1].inheritedProtoElementInjector).toBe(results[0].inheritedProtoElementInjector);\n      });\n\n      it('should use the ProtoElementInjector of the parent element as parent', () => {\n        var element = el('<div directives><span><a directives></a></span></div>');\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(element);\n        expect(results[2].inheritedProtoElementInjector.parent).toBe(\n          results[0].inheritedProtoElementInjector);\n      });\n\n      it('should use a null parent for viewRoots', () => {\n        var element = el('<div directives><span viewroot directives></span></div>');\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(element);\n        expect(results[1].inheritedProtoElementInjector.parent).toBe(null);\n      });\n\n      it('should use a null parent if there is an intermediate viewRoot', () => {\n        var element = el('<div directives><span viewroot><a directives></a></span></div>');\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(element);\n        expect(results[2].inheritedProtoElementInjector.parent).toBe(null);\n      });\n    });\n\n    describe(\"distanceToParentInjector\", () => {\n      it(\"should be 0 for root elements\", () => {\n        var element = el('<div directives></div>');\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(element);\n        expect(results[0].inheritedProtoElementInjector.distanceToParent).toBe(0);\n      });\n\n      it(\"should be 1 when a parent element has an injector\", () => {\n        var element = el('<div directives><span directives></span></div>');\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(element);\n        expect(results[1].inheritedProtoElementInjector.distanceToParent).toBe(1);\n      });\n\n      it(\"should add 1 for every element that does not have an injector\", () => {\n        var element = el('<div directives><a><b><span directives></span></b></a></div>');\n        var directives = [SomeDecoratorDirective];\n        var results = createPipeline(directives).process(element);\n        expect(results[3].inheritedProtoElementInjector.distanceToParent).toBe(3);\n      });\n    });\n  });\n}\n\n\nclass TestableProtoElementInjectorBuilder extends ProtoElementInjectorBuilder {\n  debugObjects:List;\n\n  constructor() {\n    super();\n    this.debugObjects = [];\n  }\n\n  findArgsFor(protoElementInjector:ProtoElementInjector) {\n    for (var i=0; i<this.debugObjects.length; i+=2) {\n      if (this.debugObjects[i] === protoElementInjector) {\n        return this.debugObjects[i+1];\n      }\n    }\n    return null;\n  }\n\n  internalCreateProtoElementInjector(parent, index, bindings, firstBindingIsComponent, distance) {\n    var result = new ProtoElementInjector(parent, index, bindings, firstBindingIsComponent, distance);\n    ListWrapper.push(this.debugObjects, result);\n    ListWrapper.push(this.debugObjects, {'parent': parent, 'index': index, 'bindings': bindings, 'firstBindingIsComponent': firstBindingIsComponent});\n    return result;\n  }\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\nclass SomeComponentService {}\n\n@Viewport()\nclass SomeViewportDirective {}\n\n@Component({\n  componentServices: [SomeComponentService]\n})\nclass SomeComponentDirective {}\n\n@Decorator()\nclass SomeDecoratorDirective {}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","assert.argumentTypes($__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)"]}