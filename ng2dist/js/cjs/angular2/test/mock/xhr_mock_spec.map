{"version":3,"sources":["xhr_mock_spec.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/1500","@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/mock/xhr_mock_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/test/mock/","sourcesContent":["import {describe, beforeEach, it, expect, ddescribe, iit, el, IS_DARTIUM} from 'angular2/test_lib';\nimport {XHRMock} from 'angular2/src/mock/xhr_mock';\nimport {PromiseWrapper, Promise} from 'angular2/src/facade/async';\nimport {isPresent} from 'angular2/src/facade/lang';\n\nexport function main() {\n  describe('XHRMock', () => {\n    var xhr;\n\n    beforeEach(() => {\n      xhr = new XHRMock();\n    });\n\n    function expectResponse(request: Promise, url: string, response: string, done = null) {\n      function onResponse(text: string) {\n        if (response === null) {\n          throw `Unexpected response ${url} -> ${text}`;\n        } else {\n          expect(text).toEqual(response);\n          if (isPresent(done)) done();\n        }\n      }\n\n      function onError(error: string) {\n        if (response !== null) {\n          throw `Unexpected error ${url}`;\n        } else {\n          expect(error).toEqual(`Failed to load ${url}`);\n          if (isPresent(done)) done();\n        }\n      }\n\n      PromiseWrapper.then(request, onResponse, onError);\n    }\n\n    it('should return a response from the definitions', (done) => {\n      var url = '/foo';\n      var response = 'bar';\n      xhr.when(url, response);\n      expectResponse(xhr.get(url), url, response, done);\n      xhr.flush();\n    });\n\n    it('should return an error from the definitions', (done) => {\n      var url = '/foo';\n      var response = null;\n      xhr.when(url, response);\n      expectResponse(xhr.get(url), url, response, done);\n      xhr.flush();\n    });\n\n    it('should return a response from the expectations', (done) => {\n      var url = '/foo';\n      var response = 'bar';\n      xhr.expect(url, response);\n      expectResponse(xhr.get(url), url, response, done);\n      xhr.flush();\n    });\n\n    it('should return an error from the expectations', (done) => {\n      var url = '/foo';\n      var response = null;\n      xhr.expect(url, response);\n      expectResponse(xhr.get(url), url, response, done);\n      xhr.flush();\n    });\n\n    it('should not reuse expectations', () => {\n      var url = '/foo';\n      var response = 'bar';\n      xhr.expect(url, response);\n      xhr.get(url);\n      xhr.get(url);\n      expect(() => {\n        xhr.flush();\n      }).toThrowError('Unexpected request /foo');\n    });\n\n    it('should return expectations before definitions', (done) => {\n      var url = '/foo';\n      xhr.when(url, 'when');\n      xhr.expect(url, 'expect');\n      expectResponse(xhr.get(url), url, 'expect');\n      expectResponse(xhr.get(url), url, 'when', done);\n      xhr.flush();\n    });\n\n    it('should throw when there is no definitions or expectations', () => {\n      xhr.get('/foo');\n      expect(() => {\n        xhr.flush();\n      }).toThrowError('Unexpected request /foo');\n    });\n\n    it('should throw when flush is called without any pending requests', () => {\n      expect(() => {\n        xhr.flush();\n      }).toThrowError('No pending requests to flush');\n    });\n\n    it('should throw on unstatisfied expectations', () => {\n      xhr.expect('/foo', 'bar');\n      xhr.when('/bar', 'foo');\n      xhr.get('/bar');\n      expect(() => {\n        xhr.flush();\n      }).toThrowError('Unsatisfied requests: /foo');\n    });\n  });\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","assert.type.any","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}