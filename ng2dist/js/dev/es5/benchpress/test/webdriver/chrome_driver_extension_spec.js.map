{"version":3,"sources":["@traceur/generated/TemplateParser/22","benchpress/test/webdriver/chrome_driver_extension_spec.js","@traceur/generated/TemplateParser/30","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/29","@traceur/generated/TemplateParser/28","@traceur/generated/TemplateParser/13"],"names":[],"mappings":"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","file":"benchpress/test/webdriver/chrome_driver_extension_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {describe, it, iit, xit, expect, beforeEach, afterEach} from 'angular2/test_lib';\n\nimport { ListWrapper } from 'angular2/src/facade/collection';\nimport { PromiseWrapper } from 'angular2/src/facade/async';\nimport { Json, isBlank } from 'angular2/src/facade/lang';\n\nimport {\n  WebDriverExtension, ChromeDriverExtension,\n  WebDriverAdapter, Injector, bind\n} from 'benchpress/common';\n\nimport { TraceEventFactory } from '../trace_event_factory';\n\nexport function main() {\n  describe('chrome driver extension', () => {\n    var log;\n    var extension;\n\n    var blinkEvents = new TraceEventFactory('blink.console', 'pid0');\n    var v8Events = new TraceEventFactory('v8', 'pid0');\n    var v8EventsOtherProcess = new TraceEventFactory('v8', 'pid1');\n    var chromeTimelineEvents = new TraceEventFactory('disabled-by-default-devtools.timeline', 'pid0');\n    var normEvents = new TraceEventFactory('timeline', 'pid0');\n\n    function createExtension(perfRecords = null, messageMethod = 'Tracing.dataCollected') {\n      if (isBlank(perfRecords)) {\n        perfRecords = [];\n      }\n      log = [];\n      extension = new Injector([\n        ChromeDriverExtension.BINDINGS,\n        bind(WebDriverAdapter).toValue(new MockDriverAdapter(log, perfRecords, messageMethod))\n      ]).get(ChromeDriverExtension);\n      return extension;\n    }\n\n    it('should force gc via window.gc()', (done) => {\n      createExtension().gc().then( (_) => {\n        expect(log).toEqual([['executeScript', 'window.gc()']]);\n        done();\n      });\n    });\n\n    it('should mark the timeline via console.time()', (done) => {\n      createExtension().timeBegin('someName').then( (_) => {\n        expect(log).toEqual([['executeScript', `console.time('someName');`]]);\n        done();\n      });\n    });\n\n    it('should mark the timeline via console.timeEnd()', (done) => {\n      createExtension().timeEnd('someName').then( (_) => {\n        expect(log).toEqual([['executeScript', `console.timeEnd('someName');`]]);\n        done();\n      });\n    });\n\n    it('should mark the timeline via console.time() and console.timeEnd()', (done) => {\n      createExtension().timeEnd('name1', 'name2').then( (_) => {\n        expect(log).toEqual([['executeScript', `console.timeEnd('name1');console.time('name2');`]]);\n        done();\n      });\n    });\n\n    describe('readPerfLog', () => {\n\n      it('should execute a dummy script before reading them', (done) => {\n        // TODO(tbosch): This seems to be a bug in ChromeDriver:\n        // Sometimes it does not report the newest events of the performance log\n        // to the WebDriver client unless a script is executed...\n        createExtension([]).readPerfLog().then( (_) => {\n          expect(log).toEqual([ [ 'executeScript', '1+1' ], [ 'logs', 'performance' ] ]);\n          done();\n        });\n      });\n\n      it('should normalize times to ms and forward ph and pid event properties', (done) => {\n        createExtension([\n          chromeTimelineEvents.complete('FunctionCall', 1100, 5500, null)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.complete('script', 1.1, 5.5, null),\n          ]);\n          done();\n        });\n      });\n\n      it('should normalize \"tdur\" to \"dur\"', (done) => {\n        var event = chromeTimelineEvents.create('X', 'FunctionCall', 1100, null);\n        event['tdur'] = 5500;\n        createExtension([event]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.complete('script', 1.1, 5.5, null),\n          ]);\n          done();\n        });\n      });\n\n      it('should report FunctionCall events as \"script\"', (done) => {\n        createExtension([\n          chromeTimelineEvents.start('FunctionCall', 0)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('script', 0),\n          ]);\n          done();\n        });\n      });\n\n      it('should ignore FunctionCalls from webdriver', (done) => {\n        createExtension([\n          chromeTimelineEvents.start('FunctionCall', 0, {'data': {'scriptName': 'InjectedScript'}})\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([]);\n          done();\n        });\n      });\n\n      it('should report begin timestamps', (done) => {\n        createExtension([\n          blinkEvents.create('S', 'someName', 1000)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.markStart('someName', 1.0)\n          ]);\n          done();\n        });\n      });\n\n      it('should report end timestamps', (done) => {\n        createExtension([\n          blinkEvents.create('F', 'someName', 1000)\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.markEnd('someName', 1.0)\n          ]);\n          done();\n        });\n      });\n\n      it('should report gc', (done) => {\n        createExtension([\n          chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}),\n          chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0}),\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('gc', 1.0, {'usedHeapSize': 1000}),\n            normEvents.end('gc', 2.0, {'usedHeapSize': 0, 'majorGc': false}),\n          ]);\n          done();\n        });\n      });\n\n      it('should report major gc', (done) => {\n        createExtension([\n          chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}),\n          v8EventsOtherProcess.start('majorGC', 1100, null),\n          v8EventsOtherProcess.end('majorGC', 1200, null),\n          chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0}),\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('gc', 1.0, {'usedHeapSize': 1000}),\n            normEvents.end('gc', 2.0, {'usedHeapSize': 0, 'majorGc': false}),\n          ]);\n          done();\n        });\n      });\n\n      it('should ignore major gc from different processes', (done) => {\n        createExtension([\n          chromeTimelineEvents.start('GCEvent', 1000, {'usedHeapSizeBefore': 1000}),\n          v8Events.start('majorGC', 1100, null),\n          v8Events.end('majorGC', 1200, null),\n          chromeTimelineEvents.end('GCEvent', 2000, {'usedHeapSizeAfter': 0}),\n        ]).readPerfLog().then( (events) => {\n          expect(events).toEqual([\n            normEvents.start('gc', 1.0, {'usedHeapSize': 1000}),\n            normEvents.end('gc', 2.0, {'usedHeapSize': 0, 'majorGc': true}),\n          ]);\n          done();\n        });\n      });\n\n      ['RecalculateStyles', 'Layout', 'UpdateLayerTree', 'Paint', 'Rasterize', 'CompositeLayers'].forEach( (recordType) => {\n        it(`should report ${recordType} as \"render\"`, (done) => {\n          createExtension([\n            chromeTimelineEvents.start(recordType, 1234),\n            chromeTimelineEvents.end(recordType, 2345)\n          ]).readPerfLog().then( (events) => {\n            expect(events).toEqual([\n              normEvents.start('render', 1.234),\n              normEvents.end('render', 2.345),\n            ]);\n            done();\n          });\n        });\n      });\n\n      it('should throw an error on buffer overflow', (done) => {\n        PromiseWrapper.catchError(createExtension([\n          chromeTimelineEvents.start('FunctionCall', 1234),\n        ], 'Tracing.bufferUsage').readPerfLog(), (err) => {\n          expect( () => {\n            throw err;\n          }).toThrowError('The DevTools trace buffer filled during the test!');\n          done();\n        });\n      });\n\n      it('should match chrome browsers', () => {\n        expect(createExtension().supports({\n          'browserName': 'chrome'\n        })).toBe(true);\n\n        expect(createExtension().supports({\n          'browserName': 'Chrome'\n        })).toBe(true);\n      });\n\n    });\n\n  });\n}\n\nclass MockDriverAdapter extends WebDriverAdapter {\n  _log:List;\n  _events:List;\n  _messageMethod:string;\n  constructor(log, events, messageMethod) {\n    super();\n    this._log = log;\n    this._events = events;\n    this._messageMethod = messageMethod;\n  }\n\n  executeScript(script) {\n    ListWrapper.push(this._log, ['executeScript', script]);\n    return PromiseWrapper.resolve(null);\n  }\n\n  logs(type) {\n    ListWrapper.push(this._log, ['logs', type]);\n    if (type === 'performance') {\n      return PromiseWrapper.resolve(this._events.map( (event) => {\n        return {\n          'message': Json.stringify({\n            'message': {\n              'method': this._messageMethod,\n              'params': event\n            }\n          })\n        };\n      }));\n    } else {\n      return null;\n    }\n  }\n\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","$__placeholder__0 = $__placeholder__1","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)"]}