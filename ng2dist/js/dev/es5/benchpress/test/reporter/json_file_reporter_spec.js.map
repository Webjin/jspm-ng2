{"version":3,"sources":["@traceur/generated/TemplateParser/22","benchpress/test/reporter/json_file_reporter_spec.js","@traceur/generated/TemplateParser/30","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/25"],"names":[],"mappings":"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","file":"benchpress/test/reporter/json_file_reporter_spec.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {describe, ddescribe, it, iit, xit, expect, beforeEach, afterEach} from 'angular2/test_lib';\n\nimport { DateWrapper, Json, RegExpWrapper, isPresent } from 'angular2/src/facade/lang';\nimport { PromiseWrapper } from 'angular2/src/facade/async';\n\nimport {\n  bind, Injector,\n  SampleDescription,\n  MeasureValues\n} from 'benchpress/common';\n\n\nimport { JsonFileReporter } from 'benchpress/src/reporter/json_file_reporter';\n\nexport function main() {\n  describe('file reporter', () => {\n    var loggedFile;\n\n    function createReporter({sampleId, descriptions, metrics, path}) {\n      var bindings = [\n        JsonFileReporter.BINDINGS,\n        bind(SampleDescription).toValue(new SampleDescription(sampleId, descriptions, metrics)),\n        bind(JsonFileReporter.PATH).toValue(path),\n        bind(JsonFileReporter.WRITE_FILE).toValue((filename, content) => {\n          loggedFile = {\n            'filename': filename,\n            'content': content\n          };\n          return PromiseWrapper.resolve(null);\n        })\n      ];\n      return new Injector(bindings).get(JsonFileReporter);\n    }\n\n    it('should write all data into a file', (done) => {\n      createReporter({\n        sampleId: 'someId',\n        descriptions: [{ 'a': 2 }],\n        path: 'somePath',\n        metrics: {\n          'script': 'script time'\n        }\n      }).reportSample([\n        mv(0, 0, { 'a': 3, 'b': 6})\n      ], [mv(0, 0, {\n        'a': 3, 'b': 6\n      }), mv(1, 1, {\n        'a': 5, 'b': 9\n      })]);\n      var regExp = RegExpWrapper.create('somePath/someId_\\\\d+\\\\.json');\n      expect(isPresent(RegExpWrapper.firstMatch(regExp, loggedFile['filename']))).toBe(true);\n      var parsedContent = Json.parse(loggedFile['content']);\n      expect(parsedContent).toEqual({\n        \"description\": {\n          \"id\": \"someId\",\n          \"description\": {\n            \"a\": 2\n          },\n          \"metrics\": {\"script\": \"script time\"}\n        },\n        \"completeSample\": [{\n            \"timeStamp\": \"1970-01-01T00:00:00.000Z\",\n            \"runIndex\": 0,\n            \"values\": {\n              \"a\": 3,\n              \"b\": 6\n            }\n        }],\n        \"validSample\": [\n          {\n            \"timeStamp\": \"1970-01-01T00:00:00.000Z\",\n            \"runIndex\": 0,\n            \"values\": {\n              \"a\": 3,\n              \"b\": 6\n            }\n          },\n          {\n            \"timeStamp\": \"1970-01-01T00:00:00.001Z\",\n            \"runIndex\": 1,\n            \"values\": {\n              \"a\": 5,\n              \"b\": 9\n            }\n          }\n        ]\n      });\n      done();\n    });\n\n  });\n}\n\nfunction mv(runIndex, time, values) {\n  return new MeasureValues(runIndex, DateWrapper.fromMillis(time), values);\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;"]}