{"version":3,"sources":["binding.js","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9"],"names":[],"mappings":"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","file":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/di/binding.js","sourceRoot":"/Users/crush/Documents/learning_js/angular/modules/angular2/src/di/","sourcesContent":["import {FIELD, Type, isBlank, isPresent} from 'angular2/src/facade/lang';\nimport {List, MapWrapper, ListWrapper} from 'angular2/src/facade/collection';\nimport {reflector} from 'angular2/src/reflection/reflection';\nimport {Key} from './key';\nimport {Inject, InjectLazy, InjectPromise, Optional, DependencyAnnotation} from './annotations';\nimport {NoAnnotationError} from './exceptions';\n\nexport class Dependency {\n  key:Key;\n  asPromise:boolean;\n  lazy:boolean;\n  optional:boolean;\n  properties:List;\n  constructor(key:Key, asPromise:boolean, lazy:boolean, optional:boolean, properties:List) {\n    this.key = key;\n    this.asPromise = asPromise;\n    this.lazy = lazy;\n    this.optional = optional;\n    this.properties = properties;\n  }\n\n  static fromKey(key:Key) {\n    return new Dependency(key, false, false, false, []);\n  }\n}\n\nexport class Binding {\n  key:Key;\n  factory:Function;\n  dependencies:List;\n  providedAsPromise:boolean;\n\n  constructor(key:Key, factory:Function, dependencies:List, providedAsPromise:boolean) {\n    this.key = key;\n    this.factory = factory;\n    this.dependencies = dependencies;\n    this.providedAsPromise = providedAsPromise;\n  }\n}\n\nexport function bind(token):BindingBuilder {\n  return new BindingBuilder(token);\n}\n\nexport class BindingBuilder {\n  token;\n  constructor(token) {\n    this.token = token;\n  }\n\n  toClass(type:Type):Binding {\n    return new Binding(\n      Key.get(this.token),\n      reflector.factory(type),\n      _dependenciesFor(type),\n      false\n    );\n  }\n\n  toValue(value):Binding {\n    return new Binding(\n      Key.get(this.token),\n      () => value,\n      [],\n      false\n    );\n  }\n\n  toAlias(aliasToken):Binding {\n    return new Binding(\n      Key.get(this.token),\n      (aliasInstance) => aliasInstance,\n      [Dependency.fromKey(Key.get(aliasToken))],\n      false\n    );\n  }\n\n  toFactory(factoryFunction:Function, dependencies:List = null):Binding {\n    return new Binding(\n      Key.get(this.token),\n      factoryFunction,\n      this._constructDependencies(factoryFunction, dependencies),\n      false\n    );\n  }\n\n  toAsyncFactory(factoryFunction:Function, dependencies:List = null):Binding {\n    return new Binding(\n      Key.get(this.token),\n      factoryFunction,\n      this._constructDependencies(factoryFunction, dependencies),\n      true\n    );\n  }\n\n  _constructDependencies(factoryFunction:Function, dependencies:List) {\n    return isBlank(dependencies) ?\n      _dependenciesFor(factoryFunction) :\n      ListWrapper.map(dependencies, (t) => Dependency.fromKey(Key.get(t)));\n  }\n}\n\nfunction _dependenciesFor(typeOrFunc):List {\n  var params = reflector.parameters(typeOrFunc);\n  if (isBlank(params)) return [];\n  if (ListWrapper.any(params, (p) => isBlank(p))) throw new NoAnnotationError(typeOrFunc);\n  return ListWrapper.map(params, (p) => _extractToken(typeOrFunc, p));\n}\n\nfunction _extractToken(typeOrFunc, annotations) {\n  var depProps = [];\n  var token = null;\n  var optional = false;\n  var lazy = false;\n  var asPromise = false;\n\n  for (var i = 0; i < annotations.length; ++i) {\n    var paramAnnotation = annotations[i];\n\n    if (paramAnnotation instanceof Type) {\n      token = paramAnnotation;\n\n    } else if (paramAnnotation instanceof Inject) {\n      token = paramAnnotation.token;\n\n    } else if (paramAnnotation instanceof InjectPromise) {\n      token = paramAnnotation.token;\n      asPromise = true;\n\n    } else if (paramAnnotation instanceof InjectLazy) {\n      token = paramAnnotation.token;\n      lazy = true;\n\n    } else if (paramAnnotation instanceof Optional) {\n      optional = true;\n\n    } else if (paramAnnotation instanceof DependencyAnnotation) {\n      ListWrapper.push(depProps, paramAnnotation);\n    }\n  }\n\n  if (isPresent(token)) {\n    return _createDependency(token, asPromise, lazy, optional, depProps);\n  } else {\n    throw new NoAnnotationError(typeOrFunc);\n  }\n}\n\nfunction _createDependency(token, asPromise, lazy, optional, depProps):Dependency {\n  return new Dependency(Key.get(token), asPromise, lazy, optional, depProps);\n}\n","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","return assert.returnType(($__placeholder__0), $__placeholder__1)"]}